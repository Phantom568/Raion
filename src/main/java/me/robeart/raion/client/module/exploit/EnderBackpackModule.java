package me.robeart.raion.client.module.exploit;

import me.robeart.raion.client.events.events.player.OnUpdateEvent;
import me.robeart.raion.client.module.Module;
import net.minecraft.client.gui.GuiScreen;
import net.minecraft.client.gui.inventory.GuiChest;
import net.minecraft.client.gui.inventory.GuiScreenHorseInventory;
import team.stiff.pomelo.impl.annotated.handler.annotation.Listener;

/**
 * @author cats
 * This lets you close then reopen the enderchest GUI, it is very buggy, and not recommended for standard use
 */
public class EnderBackpackModule extends Module {
	
	private GuiScreen screen;
	
	public EnderBackpackModule() {
		super("EBackPack", "Closes your enderchest GUI and allows you to open it whenever you want", Category.EXPLOIT);
	}
	
	@Listener
	public void onUpdate(OnUpdateEvent event) {
		if (mc.currentScreen instanceof GuiChest || mc.currentScreen instanceof GuiScreenHorseInventory) {
			screen = mc.currentScreen;
			mc.currentScreen = null;
		}
	}
	
	@Override
	public void onDisable() {
		if (mc.world != null && mc.player != null) {
			mc.currentScreen = screen;
		}
	}
}
